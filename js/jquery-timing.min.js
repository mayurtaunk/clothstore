(function(n,j){var c={},d=1,e=n.fn.each,k=n.fn.on||n.fn.bind,o=n.fn.off||n.fn.unbind,i=n.fn.animate,l={};function a(q,r){r=n(r);r.prevObject=q;var p=q.length;if(p!==r.length){return r}while(p--){if(q[p]!==r[p]){return r}}return q}function b(p){var q=[],r=p.length;while(r--){q[r]=p[r].f}return q}function f(q,x,u,t){u=u||[];var v={e:q,h:x},r=false,p,y;function w(z,A){z.d=false;A.then(function(){z.j=a(z.e,z.j);z.d=true;s()},true)}function s(A){while(!r){try{r=!r;if(typeof t=="function"){t(n.makeArray(v.j||v.e))}if(v.d==false){return A}if(!v.h.i){if(!u.length){return v.e}y=u[0].k&&u[0].k(s,v,u)||v;if(y==v){return A}v=y;continue}p=v.e[v.h.i]||l[v.h.i];if(!p){throw'no such method "'+v.h.i+'" on object ('+v.e+")"}if(p.timing&&!v.d){v.d=false;v=p.timing(s,v,u,t)||v}else{if(!p.timing&&!v.d){v.j=v.e[v.h.i].apply(v.e,v.h.b);if(u.length&&v.j instanceof g){w(v,v.j);continue}}y={e:v.j,h:v.h.j};v.d=false;if(typeof v.c=="function"){v.c.apply(v.e,b(u))}v=y}}catch(z){r=!r;throw z}finally{r=!r}}}return s}function g(r,s,q){this[".methods"]=s;this[".callback"]=q;this.length=0;Array.prototype.push.apply(this,n.makeArray(this._=r._=r));for(var p in r){if(!(p in g.prototype)&&typeof r[p]=="function"){this[p]=h(p)}}}function h(p){return g.prototype[p]=function(){this[".methods"].i=p;this[".methods"].b=arguments;this[".methods"]=this[".methods"].j={};return this[".callback"]?this[".callback"](this,p,arguments):this}}n.each(["bind","on","one","live","delegate"],function(q,p){if(n.fn[p]){var r=n.fn[p];n.fn[p]=function(){var t,v,u,s;for(t=0;t<arguments.length;t++){if(typeof arguments[t]=="function"||(arguments[t]&&typeof arguments[t]=="object")||arguments[t]===false){if(arguments[t]!==n){if(typeof arguments[t]=="function"&&n.guid){arguments[t].guid=arguments[t].guid||n.guid++}return r.apply(this,arguments)}break}}Array.prototype.splice.call(arguments,t,1,function(){s=f(n(this),v,[{f:n.extend(Array.prototype.shift.apply(arguments),arguments)}],function(w){u.length=0;Array.prototype.push.apply(u,w)});return s()});return u=new g(r.apply(this,arguments),v={},function(){return s?s(u):u})}}});n.fn.animate=function(){while(arguments.length&&arguments[arguments.length-1]==null){Array.prototype.pop.apply(arguments)}if(arguments[arguments.length-1]===n){var p="_timing"+d++;arguments[arguments.length-1]=function(){n(this).trigger(p)};return this.each().one(p).all(i.apply(this,arguments))}return i.apply(this,arguments)};n.each(["wait","repeat","join","then"],function(q,p){n.fn[p]=function(){var s={},r=new g(this,s,f(this,s,[],function(t){r.length=0;Array.prototype.push.apply(r,t)}));return r[p].apply(r,arguments)}});n.fn.join.timing=function(p,r){var q,s=r.e.length;if(typeof r.h.b[0]=="function"){r.c=r.h.b[0]}else{q=r.h.b[0];r.c=r.h.b[1]}r.e.queue(q==null?"fx":q,function(t){r.d=!--s;r.j=r.e;p();t()})};n.fn.then.timing=function(p,q){q.c=q.h.b[0];q.j=q.e;q.d=true;if(q.h.b[1]){Array.prototype.shift.apply(q.h.b)}};n.fn.wait.timing=function(r,v){var q,t,u;if(typeof v.h.b[0]=="function"){v.c=v.h.b[0]}else{q=v.h.b[0];v.c=v.h.b[1]}function p(){o.call(t?o.call(v.e,t,p):v.e,"unwait",s);v.d=true;r()}function s(){o.call(t?o.call(n(this),t,p):n(this),"unwait",s);v.j=v.e=v.e.not(this);v.d=v.e.length&&v.d;j.clearTimeout(!v.e.length&&u);r()}if(typeof q=="string"){k.call(v.e,t=q,p)}else{u=j.setTimeout(p,Math.max(0,q))}k.call(v.e,"unwait",s);v.j=v.e};n.fn.each=function(r){if(!r||r===n){var q={},p=new g(this,q,f(this,q,[],function(s){p.length=0;Array.prototype.push.apply(p,s)}));return p.each()}return e.apply(this,arguments)};n.fn.each.timing=function(q,t,u,s){if(t.h.b[0]&&t.h.b[0]!==n){t.d=true;t.j=e.apply(t.e,t.hs.b);return}var A=t.e.length,z=A,w,r,y=[],x=[],v={};function p(){for(var B=0;B<A;B++){(y[B])()}return v}for(w in g.prototype){v[w]=p}v.length=A;t.e.each(function(B){var C=u.slice();x[B]=[v[B]=this];C.unshift({f:B,a:function(D){if(!--z){r=D.h.j;q()}},g:l.all});y[B]=f(n(this),t.h.j,C,function(E){x[B]=E;v.length=0;for(var D=0;D<A;D++){Array.prototype.push.apply(v,x[D])}if(s){s(n.makeArray(v))}})});t.j=v;t.d=true;t.k=function(){if(!z){u.shift();return{e:a(t.e,v),h:r}}};t.f=A;u.unshift(t)};l.all=function(p){n.extend(p.h,{j:n.extend({},p.h),i:"all",b:[]});p.d=null};l.all.timing=function(p,r,q){if(!q.length||!q[0].g){throw".all() method must be used after .each() only"}if(!q[0].a){q[0].g(r);return}q[0].a(r)};n.fn.repeat.timing=function(t,w,x){var r,u,v,p,q;if(typeof w.h.b[0]=="function"){w.c=w.h.b[0]}else{if(typeof w.h.b[1]=="function"){r=w.h.b[0];w.c=w.h.b[1]}else{r=w.h.b[0];u=w.h.b[1];w.c=w.h.b[2]}}function y(){w.j=w.j||w.e;w.d=true;t()}function s(){o.call(p?o.call(n(this),p,y):n(this),"unrepeat",s);var z=w.e.not(this);w.j=(w.j==w.e)?z:w.j;w.e=z;w.d=w.e.length&&w.d;r=w.e.length&&r;j.clearInterval(!w.e.length&&q);t()}w.k=function(){if(w.d||v){w.f++;w.j=w.j||w.e;w.d=w.d||r;return w}};if(r==null){u=r=true;j.setTimeout(function(){v=true;t()},0)}else{if(typeof r=="string"){k.call(w.e,p=r,y)}else{q=j.setInterval(y,Math.max(0,r))}r=false}k.call(w.e,"unrepeat",s);w.j=w.e;w.f=0;w.m=function(z,A){if(z){s.apply(w.e)}if(r){y()}};w.g=l.until;if(u){y()}x.unshift(w)};l.until=function(p){n.extend(p.h,{j:n.extend({},p.h),i:"until",b:[false]});p.d=null};l.until.timing=function(p,s,r){if(!r.length||!r[0].g){throw".until() method must be used after .repeat() only"}if(!r[0].m){r[0].g(s);return}var t=s.h.b[0],q=s.h.b[1];if(typeof t=="function"){t=t.apply(s.e,b(r))}if(t==null){t=!s.e.size()}if(typeof t=="object"){t=t.toString()}if(typeof t=="number"){t=r[0].f>=t-1}if(t){s.d=true;s.j=s.e;r.shift().m(t)}else{if(q){r[0].j=s.e}s=r[0];s.f++;s.m(t);return s}};new g(l);n.each(["unwait","unrepeat"],function(q,p){n.fn[p]=function(){return this.trigger(p)}});n.each(["wait","repeat","join","then","unwait","unrepeat"],function(q,p){n[p]=function(){var r=typeof arguments[0]=="string"?Array.prototype.shift.apply(arguments):"";return n.fn[p].apply(c[r]=(c[r]||n("<div>").text(r)),arguments)}});function m(s,v,r){if(typeof s=="string"){r=new Function("x","return ["+s+"\n,x]");s=function(y,w){w=r(y);q.x=w[1];return w[0]}}var p=typeof v=="function",u=typeof s=="function",q=function(w){if(arguments.length==1){q.x=w;if(p){v(w)}}else{return t()}};function t(w){w=p?v():q.x;return u?s(w):w}q.x=0;q._={toString:q.$=q.toString=t.toString=t};q.mod=function(w){return m(function(y){return y%w},q)};q.add=function(w){return m(function(y){return y+w},q)};q.neg=function(){return m("-x",q)};q.$$=function(w){return m(w,q)};n.each("abcdefghij",function(w,x){q[w]=q[x]=function(){q(arguments[w])}});return q}n.$$=j.$$=n.X=m;n.fn.$=function(){var p=n.apply(j,arguments);p.prevObject=this;return p}})(jQuery,window);